{% if page.title is defined %}
    {% if primary is defined %}
    <h1>
    {% else %}
	<h2>
	{% endif %}

	<a href=
		{% if page.independent %}
			"{{ url_for("independent_page", kind=page.kind, name=page.url_path) }}"
		{% elif page.link %}
			"{{ page.link }}"
		{% else %}
			"{{ url_for("page", path=page.path) }}"
		{% endif %}
	>
		{{ page.title }}
	</a>

    {% if primary is defined %}
    </h1>
    {% else %}
	</h2>
	{% endif %}
{% endif %}
<div class="blurb flex-column">
	<div class="info flex-row">
		<div class="context flex-column">
			<div class="kind">
				{% if page.kind is defined and nokind is not defined %}
				<p>in: <a href="{{ url_for("kind", kind=page.kind) }}">{{ page.kind }}</a></p>
				{% endif %}
			</div>
			<div class="tags">
				{% if page.tags|length %}
					<p> tags: 
						{% for page_tag in page.meta.tags %}
							<a href="{{ url_for("tag", tag=page_tag) }}">{{ page_tag }}</a>
							{%- if not loop.last %},{% endif %}
						{% endfor %}
					</p>
				{% endif %}
			</div>
		</div>

		<div class="date">
			{% if page.date is defined %}
				<p><a href="{{ url_for('year', year=page.date.year) }}">{{ page.date|formatdate }}</a></p>
			{% endif %}
		</div>
	</div>

	{% if page.description is defined %}
		<div class="description">
			<p>{{ page.description }}</p>
		</div>
	{% endif %}
</div>
